<div>
  <h1>Crear una cita</h1>
  <form [formGroup]="citaForm" (ngSubmit)="guardarCita()">
    <div>
      <label for="start">Fecha y hora: </label>
      <input type="datetime-local" [formControl]="start" />
      <div
        *ngIf="start.errors && isValidForm != null && !isValidForm"
        [ngClass]="'error'"
      >
        <div *ngIf="start.errors.required">
          La fecha es necesaria para guardar la cita.
        </div>
      </div>
    </div>

    <div>
      <label for="users">Selecciona el cliente:</label>
      <select [formControl]="user_id">
        <option *ngFor="let user of userList" [ngValue]="user._id">
          {{ user.nombre + " " + user.apellido1 + " / " + user.email }}
        </option>
      </select>
      <div
        *ngIf="user_id.errors && isValidForm != null && !isValidForm"
        [ngClass]="'error'"
      >
        <div *ngIf="user_id.errors.required">
          El cliente es necesario para guardar la cita.
        </div>
      </div>
    </div>

    <div>
      <label for="servicios">Selecciona el servicio:</label>
      <select [formControl]="servicio">
        <option *ngFor="let servicio of serviciosList" [ngValue]="servicio._id">
          {{ servicio.nombre }}
        </option>
      </select>
      <div
        *ngIf="servicio.errors && isValidForm != null && !isValidForm"
        [ngClass]="'error'"
      >
        <div *ngIf="servicio.errors.required">
          El servicio es necesario para guardar la cita.
        </div>
      </div>
    </div>

    <button type="submit">Guardar Cita</button>
  </form>
</div>
